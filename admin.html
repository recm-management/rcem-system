<!DOCTYPE html>
<html>
<head>
  <title>RCEM Admin Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>RCEM Admin Dashboard</h1>

<p>
  Logged in as:
  <b id="adminEmail">Loading...</b>
</p>

<button onclick="logout()">Logout</button>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDK3dqXZuWaH3gctxURdOZc_Q1UfioesaA",
  authDomain: "rcem-system.firebaseapp.com",
  projectId: "rcem-system",
  storageBucket: "rcem-system.appspot.com",
  messagingSenderId: "569730845486",
  appId: "1:569730845486:web:93e6c14ea47fdc6c89c8bf"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

/* ðŸ” PAGE PROTECTION (SAFE VERSION) */
setTimeout(() => {
  auth.onAuthStateChanged(user => {
    if (!user) {
      window.location.replace("index.html");
    } else {
      document.getElementById("adminEmail").innerText = user.email;
    }
  });
}, 300);

function logout() {
  auth.signOut().then(() => {
    window.location.replace("index.html");
  });
}
</script>

</body>
</html>
